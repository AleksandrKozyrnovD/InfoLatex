\section{Операции над соответствиями}

\begin{itemize}
	\item Теоретико-множественные: $ \cup, \cap, \setminus, \trim, \overline{\phantom{x}}$ 
	\item Композиция \[
	\rho \subseteq A\times B, \sigma \subseteq C\times D
	\] 
	\[
	\rho \circ \sigma \leftrightharpoons \{(x,y):(\exists z)((x,z) \in \rho\band(z,y)\in \sigma)\} 
	\] 
\end{itemize}

То есть если $\rho \subseteq A\times B$, а $\sigma \subseteq C\times D$, то их композиция
$\rho \circ \sigma \subseteq A\times D$

\medskip

Также верно:
\begin{align*}
	&f:A \to B, g:B \to C \\
	&f \circ g = \{(x,y):(\exists z)((x,z)\in f \band (y,z)\in g)\}
\end{align*}

Можно показать, что $f \circ g = g(f(x))$.
\begin{myproof}
\begin{align*}
	f \circ g &= \\
	= \{(x,y):(\exists z)((x,z)\in f \band (y,z)\in g)\}&= \\
	= \{(x,y):(\exists z)(z=f(x) \band y=g(z))\} &= \\
						     &= \{(x,y):y=g(f(x))\}  
\end{align*}
\end{myproof}

\medskip

\paragraph*{Пример нахождения композиций.}
Пусть дано соответствие $\rho \subseteq A^2$. Найдем $\rho^2 \leftrightharpoons \rho \circ \rho$.
\begin{align*}
	&\rho = \{(x,y):x^2+y^2=a^2\} \\
	&\rho^2 = \{(x,y):(\exists z)(x^2+z^2=a^2, z^2+y^2=a^2)\} \\
	&\rho^2 = \{(x,y):x^2-y^2=0\}\text{ (Отняли $z^2+y^2$ из $x^2+z^2$)}
\end{align*}

\begin{definition}
Если $\rho \subseteq A\times B$, то $\rho^{-1} \subseteq B\times A$ - обратное соответствие. \[
\rho^{-1} \leftrightharpoons \{(x,y):(y,x) \in \rho\} 
\] 
\end{definition}

Следует также заметить, что если $\rho=f:A\to B$ - биекция, то можно найти обратное
отображение: \[
f^{-1}:B\to A
\] 

\medskip

Свойства композиции:
\begin{itemize}
	\item[1)] \[
	\rho \circ (\sigma \circ \tau) = (\rho \circ \sigma) \circ \tau
	\]
\item[2)] \[
\rho \circ \sigma \neq \sigma \circ \rho
\]
\item[3)] \[
\rho \circ (\sigma \cup \tau) = (\rho \circ \sigma) \cup (\rho \circ \tau)
\] 
\item[4)] \[
\rho \circ (\sigma \cap \tau) = (\rho \cap \sigma) \cap (\rho \cap \tau)
\]
\item[5)] \[
		(\rho^{-1})^{-1}=\rho
\]
\item[6)] \[
		(\rho \circ \sigma)^{-1} = \sigma^{-1} \circ \rho^{-1}
\]
\item[7)] \[
\rho \subseteq A^2
\] 
\end{itemize}


