\input{preamble}

\title{Домашнее задание №1\\ Логика и Теория Алгоритмов}
\author{Козырнов Александр Дмитриевич\\ ИУ7-42Б\\Вариант 6}
\date{\today}

\begin{document}
\maketitle
\tableofcontents
\newpage

\section{Условие задачи}
Построить НА, который аннулирует все слова вида $x\$x$, где
$x \in \{a,b\}^{*}$, а $\$ \not\in \{a,b\} $

\section{Решение задачи}
Пусть слово задано как внешний параметр:
\begin{equation*}
    \boxed{u = u(1)u(2)\ldots u(k),\quad k \ge 1}
\end{equation*}

Назовем наш НА $DoubleDel$. Его схема:
\[
DoubleDel: \begin{cases}
    \nabla\xi \to \bigcdot \xi \text{ //} \xi \in \{a,b\}  & (1)\\
    \nabla  \to \gamma \text{ //}\nabla, \gamma  \not\in \{a,b\} & (2)\\
    \xi\gamma \to \gamma & (3)\\
    \$\gamma \to \gamma & (4)\\
    \gamma  \to \bigcdot & (5)\\
    \#\$u \to \$u(1)u(2)\ldots u(k)\nabla  & (6)\\
    \#\xi \to \bigcdot\xi & (7)\\
    \#\$ \to \bigcdot\$ & (8)\\
    \square u \to u(1)u(2)\ldots u(k) \# & (9)\\
    \square\xi \to \bigcdot \xi & (10)\\
    \square \to \bigcdot& (11) \\
    \to \square & (12)
\end{cases}
\]

Следует уточнить, какой символ что делает.

Параметр $\xi$ обозначает буквы нашего алфавита
 $\{a,b\}$.  Символ $\square$ ищет нахождение первого вхождения слова $u$. В начале программы 
 символ $\square$ появляется в начале всего слова. У нас такие варианты действий:
 у нас пустое слово; мы нашли букву; мы нашли слово  $u$; мы встретили разделитель $\$$.
 В первом случае сработает формула (11). Во втором случае сработает формула (10).
 В Третьем случае нахождения слова сработает формула (9), причем она имеет приоритет над формулой
 (10). В четвертом случае сработает та же формула (11).

 \medskip

 Если мы выполнили формулу (9), то мы начинаем работать со знаком $\#$.
 Замечу, что добавляем его в конец слова $u$, так как нет смысла переносить его вручную побуквенно.
 В этом состоянии, когда $\#$ в конце первого слова  $u$, у нас есть такие варианты действий:
 встретили букву алфавита, встретили разделитель  $\$$ без второго слова или встретили
 разделитель с вхождением второго слова. Если встретили букву алфавита в конце слова  $u$, то
 завершается работа НА формулой (7). Во втором случае встретим формулу (8), причем разделитель
 мы убирать не станем. В успешном варианте встречаем формулу (6) и ставим знак  $\nabla $ в конец
 второго слова.

 \medskip

 Если мы успешно нашли второе вхождение слова $u$, то мы начинаем работать с символом
  $\nabla $. У нас снова несколько вариантов действий: мы находимся в конце слова (следующий
  символ - пробел) или встретили букву после второго вхождения слова. В первом случае
  мы вводим 'ластик' - $\gamma$, в ином случае завершаем работу алгорифма с удалением
  $\nabla $. Замечу, что $\nabla$ можно спокойно заменить на $\#\#$.

  Формулы (3) и (4) стирают все буквы, в том числе и разделитель. Формула (5) стирает
  сам ластик и заканчивает работу НА.

  \medskip

  При подаче пустого слова сработает формула (12) $\to$ (11). При подаче слова без вхождения
  слова $u$ алгорифм завершает работу на \newline (12) $\to$ (10) формулах. В случае
  вхождения какого-то слова $\omega$ до слова  $u$ завершаем НА формулой (12) $\to $ (10).

\newpage
\section{Прогонка}

\subsection{Положительный результат работы НА}

В случае успеха слово должно быть аннулировано.

\paragraph*{Пример 1.} ${}$\newline

Пусть  $u = a$

Тогда
\begin{align*}
    DoubleDel(a\$a)
    = a\$a \underset{(12)}{\step} \square a\$a 
                      \underset{(9)}{\step} a\#\$a \underset{(6)}{\step} a\$ a\nabla
    \underset{(2)}{\step} a\$a\gamma \underset{(3),(4)}{\models}^{3} \gamma 
    \underset{(5)}{\step}\bigcdot \lambda
\end{align*}


\paragraph*{Пример 2.} ${}$\newline

Пусть $u = abba$

Тогда
\begin{align*}
    DoubleDel(abba\$abba)
    = abba\$abba \underset{(12)}{\step} \square abba\$abba \underset{(9)}{\step} abba\#\$abba
    \underset{(6)}{\step}
     & abba\$ abba\nabla \underset{(2)}{\step} abba\$abba\gamma
    \underset{(3),(4)}{\models}^{9} \gamma \underset{(5)}{\step}\bigcdot \lambda
\end{align*}

\subsection{Отрицательный результат работы НА}

В случае неуспеха нормальный алгорифм вычислит тождественную функцию

\paragraph*{Пример 1.} ${}$ \newline

Пусть u =  $\{a,b\}^{*}$ 

Подадим на вход НА пустое слово. Получаем
\[
    DoubleDel(\lambda) = \lambda \underset{(12)}{\step}
    \square \underset{(11)}{\step}\bigcdot \lambda
\] 

\paragraph*{Пример 2.} ${}$ \newline

Пусть $u = \{a,b\}^{*}$.

Подадим на вход НА слово вида $\lambda\$\omega$, где  $\omega \in \{a,b\}^{*}$. Не исключено,
что $\omega = u$. Получаем
\[
    DoubleDel(\$abcde) = \$abcde \underset{(12)}{\step} \square\$abcde 
    \underset{(11)}{\step}\bigcdot \$abcde
\] 

Как можем заметить, НА $DoubleDel$ реагирует на такую ситуацию аналогично пустому слову.


\paragraph*{Пример 3.} ${}$ \newline

Пусть $u = abba$.

Подадим на вход НА такое до разделителя $\$$ слово $\omega$,
чтобы в него входило слово  $u$, причем справа. То есть
в виду имеется такое:  $\omega = \delta u$, где  $\delta \in \{a,b\}^{+}$, причем 
$\delta \neq  u$. Получаем
\[
    DoubleDel(aabba\$abba) = aabba\$abba \underset{(12)}{\step} \square aabba\$abba
    \underset{(10)}{\step}\bigcdot aabba\$abba
\]

Это работает потому, что знак $\square$ неподвижен и находится всегда в начале слова.
Он проверяет сначала вхождение слова  $u$, но если его не находит, то стирается и НА завершает
свою работу.


\paragraph*{Пример 4.} ${}$ \newline

Пусть $u = ab$.

Подадим на вход НА такое до разделителя $\$$ слово  $\omega$,
чтобы в него входило слово  $u$, причем слева. То есть
в виду имеется такое:  $\omega = u\delta$, где  $\delta \in \{a,b\}^{+} $, причем
не исключено $\delta = u$. Получаем
\[
    DoubleDel(abab\$ab) = abab\$ab \underset{(12)}{\step} \square abab\$ab
    \underset{(9)}{\step} ab\#ab\$ab \underset{(7)}{\step}\bigcdot abab\$ab
\]

Алгоритм нашел вхождение первого слова. Однако он встретил посторонние буквы после вхождения
$u$. Неважно, будет ли это вторым вхождением слова, так как для этого у нас есть разделитель.
В этом случае сработала формула (7)  $\#\xi \to \bigcdot \xi$, которая просто стёрла знак
решетки и завершила работу НА.



\paragraph*{Пример 5.} ${}$ \newline

Пусть $u = ab$.

Подадим на вход НА такое слово с разделителем, чтобы он прочитал первое вхождение, но не смог
прочитать второе.
 \[
     DoubleDel(ab\$aab) = ab\$aab \underset{(12)}{\step} \square ab\$ aab
     \underset{(9)}{\step} ab\#\$aab \underset{(8)}{\step}\bigcdot ab\$aab
\] 

НА нашел вхождение первого слова и создал конструкцию вида $\#\$$, но не нашел
вхождения второго слова сразу после нее. Вместо этого он нашел слово вида
 $\omega \in \{a,b\}^{*}$, причем $\omega$ не начинается со слова $u$.
 Результат работы будет таким же,
 если $\omega = \lambda$, то есть слово вида  $u\$\lambda$.

\paragraph*{Пример 6.} ${}$ \newline

Пусть $u = ab$.

Подадим на вход НА такое слово с разделителем, чтобы он прочитал первое и второе вхождение
слов $u$, но нашел 'хвост' после второго вхождения.
 \[
     DoubleDel(ab\$aba) = ab\$aba \underset{(12)}{\step} \square ab\$ aba
     \underset{(9)}{\step} ab\#\$aba \underset{(6)}{\step} ab\$ab\nabla a
     \underset{(1)}{\step}\bigcdot ab\$aba
\] 

По аналогии с $\square$ знак  $\nabla $ тоже неподвижен и всего лишь проверяет
конечный символ слова. В нашем случае он встретил не пробельный символ, отчего
по формуле (1) завершается работа НА и стирается треугольник.

\paragraph*{Пример 7.} ${}$ \newline

Пусть $u = ab$ 

Подадим на вход НА слово без разделителя вовсе, но при этом на входе будет
двойное слово $u$. Получаем
 \[
     DoubleDel(abab) = abab \underset{(12)}{\step} \square abab
     \underset{(9)}{\step} ab\#ab \underset{(7)}{\step}\bigcdot abab
\] 

\end{document}
